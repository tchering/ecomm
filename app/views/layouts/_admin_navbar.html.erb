<!-- Mobile Menu Button (Hamburger) -->
<button id="mobile-menu-button" class="lg:hidden fixed top-4 left-4 z-50 p-2 rounded-lg text-gray-500 hover:bg-gray-100 focus:outline-none">
  <i class="fas fa-bars text-xl"></i>
</button>
<!-- Sidebar Navigation -->
<nav id="sidebar" class="fixed top-0 left-0 h-screen w-64 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-100 shadow-xl flex flex-col z-40 transition-all duration-300 ease-in-out">
  <!-- Logo Section -->
  <div class="p-6 border-b border-gray-200 dark:border-gray-700">
    <div class="flex items-center justify-center">
      <h1 class="text-2xl font-bold text-gray-800 dark:text-white">Admin Panel</h1>
    </div>
  </div>
  <!-- Navigation Links -->
  <div class="flex-grow p-4 space-y-1 overflow-y-auto">
    <%= link_to admin_path, class: "flex items-center px-4 py-3 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-all duration-200 group" do %>
      <div class="p-2 bg-blue-100 dark:bg-blue-900 rounded-lg group-hover:bg-blue-200 dark:group-hover:bg-blue-800">
        <i class="fas fa-chart-line text-blue-600 dark:text-blue-400"></i>
      </div>
      <span class="ml-3 font-medium">Dashboard</span>
    <% end %>
    <%= link_to admin_users_path, class: "flex items-center px-4 py-3 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-all duration-200 group" do %>
      <div class="p-2 bg-green-100 dark:bg-green-900 rounded-lg group-hover:bg-green-200 dark:group-hover:bg-green-800">
        <i class="fas fa-users text-green-600 dark:text-green-400"></i>
      </div>
      <span class="ml-3 font-medium">Users</span>
    <% end %>
    <%= link_to admin_products_path, class: "flex items-center px-4 py-3 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-all duration-200 group" do %>
      <div class="p-2 bg-purple-100 dark:bg-purple-900 rounded-lg group-hover:bg-purple-200 dark:group-hover:bg-purple-800">
        <i class="fab fa-product-hunt text-purple-600 dark:text-purple-400"></i>
      </div>
      <span class="ml-3 font-medium">Products</span>
    <% end %>
    <%= link_to admin_categories_path, class: "flex items-center px-4 py-3 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-all duration-200 group" do %>
      <div class="p-2 bg-yellow-100 dark:bg-yellow-900 rounded-lg group-hover:bg-yellow-200 dark:group-hover:bg-yellow-800">
        <i class="fas fa-clipboard-list text-yellow-600 dark:text-yellow-400"></i>
      </div>
      <span class="ml-3 font-medium">Categories</span>
    <% end %>
    <%= link_to admin_orders_path, class: "flex items-center px-4 py-3 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-all duration-200 group" do %>
      <div class="p-2 bg-red-100 dark:bg-red-900 rounded-lg group-hover:bg-red-200 dark:group-hover:bg-red-800">
        <i class="fas fa-truck-fast text-red-600 dark:text-red-400"></i>
      </div>
      <span class="ml-3 font-medium">Orders</span>
    <% end %>
    <%= link_to admin_reviews_path, class: "flex items-center px-4 py-3 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-all duration-200 group" do %>
      <div class="p-2 bg-indigo-100 dark:bg-indigo-900 rounded-lg group-hover:bg-indigo-200 dark:group-hover:bg-indigo-800">
        <i class="fas fa-star text-indigo-600 dark:text-indigo-400"></i>
      </div>
      <span class="ml-3 font-medium">Reviews</span>
    <% end %>
    <%= link_to admin_newsletters_path, class: "flex items-center px-4 py-3 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-all duration-200 group" do %>
      <div class="p-2 bg-pink-100 dark:bg-pink-900 rounded-lg group-hover:bg-pink-200 dark:group-hover:bg-pink-800">
        <i class="fas fa-paper-plane text-pink-600 dark:text-pink-400"></i>
      </div>
      <span class="ml-3 font-medium">Newsletters</span>
    <% end %>
    <%= link_to admin_newsletter_subscriptions_path, class: "flex items-center px-4 py-3 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-all duration-200 group" do %>
      <div class="p-2 bg-pink-100 dark:bg-pink-900 rounded-lg group-hover:bg-pink-200 dark:group-hover:bg-pink-800">
        <i class="fas fa-users text-pink-600 dark:text-pink-400"></i>
      </div>
      <span class="ml-3 font-medium">Subscribers</span>
    <% end %>
    <%= link_to admin_contact_inquiries_path, class: "flex items-center px-4 py-3 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-all duration-200 group" do %>
      <div class="p-2 bg-teal-100 dark:bg-teal-900 rounded-lg group-hover:bg-teal-200 dark:group-hover:bg-teal-800">
        <i class="fas fa-inbox text-teal-600 dark:text-teal-400"></i>
      </div>
      <span class="ml-3 font-medium">Contact Inquiries</span>
    <% end %>
    <%= link_to admin_notifications_path, class: "flex items-center px-4 py-3 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-all duration-200 group" do %>
      <div class="p-2 bg-orange-100 dark:bg-orange-900 rounded-lg group-hover:bg-orange-200 dark:group-hover:bg-orange-800 relative">
        <i class="fas fa-bell text-orange-600 dark:text-orange-400"></i>
        <div id="unread-notifications-count">
          <%= render partial: 'admin/notifications/unread_count', locals: { recipient: current_admin_user } %>
        </div>
      </div>
      <span class="ml-3 font-medium">Notifications</span>
    <% end %>
  </div>
  <!-- Footer/Sign Out Section -->
  <div class="p-4 border-t border-gray-200 dark:border-gray-700">
    <% if admin_user_signed_in? %>
      <%= button_to destroy_admin_user_session_path, method: :delete,
          class: "w-full flex items-center px-4 py-3 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-red-100 dark:hover:bg-red-900 transition-all duration-200 group" do %>
        <div class="p-2 bg-red-100 dark:bg-red-900 rounded-lg group-hover:bg-red-200 dark:group-hover:bg-red-800">
          <i class="fas fa-sign-out-alt text-red-600 dark:text-red-400"></i>
        </div>
        <span class="ml-3 font-medium">Sign Out</span>
      <% end %>
    <% end %>
  </div>
</nav>
<%= javascript_tag do %>
  document.addEventListener('turbo:load', function() {
  const sidebar = document.getElementById('sidebar');
  const mainContent = document.getElementById('main-content');
  const mobileMenuButton = document.getElementById('mobile-menu-button');
  let isSidebarOpen = window.innerWidth >= 1024; // lg breakpoint
  function updateLayout() {
  if (isSidebarOpen) {
  sidebar.classList.remove('-translate-x-full');
  mainContent.classList.add('ml-64');
  } else {
  sidebar.classList.add('-translate-x-full');
  mainContent.classList.remove('ml-64');
  }
  }
  function toggleSidebar() {
  isSidebarOpen = !isSidebarOpen;
  updateLayout();
  }
  // Initialize layout
  updateLayout();
  // Toggle sidebar on button click
  if (mobileMenuButton && sidebar) {
  mobileMenuButton.addEventListener('click', toggleSidebar);
  }
  // Handle window resize
  window.addEventListener('resize', function() {
  if (window.innerWidth >= 1024) {
  isSidebarOpen = true;
  } else {
  isSidebarOpen = false;
  }
  updateLayout();
  });
  // Close sidebar when pressing escape key on mobile
  document.addEventListener('keydown', function(event) {
  if (event.key === 'Escape' && isSidebarOpen && window.innerWidth < 1024) {
        toggleSidebar();
      }
    });
  });
<% end %>